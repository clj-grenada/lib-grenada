<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>grenada.guten-tag.more documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="https://github.com/clj-grenada/lib-grenada/tree/master/">➹ Lib-grenada 1.0.0-rc.4</a>&nbsp;&nbsp;–&nbsp;&nbsp;<a href="index.html">API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grenada</span></div></div></li><li class="depth-2 branch"><a href="grenada.aspects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aspects</span></div></a></li><li class="depth-2 branch"><a href="grenada.bars.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bars</span></div></a></li><li class="depth-2 branch"><a href="grenada.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="grenada.converters.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>converters</span></div></a></li><li class="depth-2"><a href="grenada.exporters.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>exporters</span></div></a></li><li class="depth-3"><a href="grenada.exporters.pretty.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pretty</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>guten-tag</span></div></div></li><li class="depth-3 current"><a href="grenada.guten-tag.more.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>more</span></div></a></li><li class="depth-2 branch"><a href="grenada.postprocessors.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>postprocessors</span></div></a></li><li class="depth-2 branch"><a href="grenada.reading.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reading</span></div></a></li><li class="depth-2 branch"><a href="grenada.schemas.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schemas</span></div></a></li><li class="depth-2 branch"><a href="grenada.sources.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sources</span></div></a></li><li class="depth-2"><a href="grenada.things.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>things</span></div></a></li><li class="depth-3 branch"><a href="grenada.things.def.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>def</span></div></a></li><li class="depth-3"><a href="grenada.things.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-2 branch"><a href="grenada.transformers.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>transformers</span></div></a></li><li class="depth-2"><a href="grenada.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-3"><a href="grenada.utils.jar.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jar</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -579px;"><span class="top" style="height: 588px;"></span><span class="bottom"></span></span><span>grey</span></div></div></li><li class="depth-2"><a href="grey.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="grenada.guten-tag.more.html#var-deftag.2B"><div class="inner"><span>deftag+</span></div></a></li><li class="depth-1"><a href="grenada.guten-tag.more.html#var-make-doc"><div class="inner"><span>make-doc</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">grenada.guten-tag.more</h2><div class="doc"><pre class="plaintext">The main feature of this namespace is the deftag+ macro, which adds some
functionality on top of guten-tag.core/deftag.</pre></div><div class="public anchor" id="var-deftag.2B"><h3>deftag+</h3><h4 class="type">macro</h4><div class="usage"><code>(deftag+ name-sym doc-string fields schema)</code><code>(deftag+ name-sym doc-string fields schema defaults)</code></div><div class="doc"><pre class="plaintext">Extension to guten-tag.core/deftag.

Defines the same functions as deftag. Additionally defines functions as
described in the doc strings doc strings of t+?-form and map-&gt;t-form.</pre></div><div class="src-link"><a href="https://github.com/clj-grenada/lib-grenada/blob/master/src/clj/grenada/guten_tag/more.clj#L101">view source</a></div></div><div class="public anchor" id="var-make-doc"><h3>make-doc</h3><div class="usage"><code>(make-doc form-generator-var subst-for)</code></div><div class="doc"><pre class="plaintext">Creates doc strings for forms generated by form generators.

When you write a macro that generates code you want to provide documentation
both to the user of the macro and to the user of the generated code. Neither
of those should be forced to look into source code. All documentation should
be able to documentation page generators. The macro author, Elvira the Lazy,
doesn&apos;t want to write very similar documentation in two places, though. This
procedure helps her solve that problem.

When Elvira writes code-generating macros she doesn&apos;t want to have all the
generating code in the body of one macro definition. Instead, she writes a
separate function G for each defn or def form F to be generated. This is a 1:1
correspondence. G is of interest to the user of the macro and F is of interest
to the user of the generated code.

As said before, Elvira doesn&apos;t want to write the same documentation for G and
F. So she attaches a doc string only to G. The doc string contains some simple
markup as described below. She then generates the doc string for F by
executing make-doc on the var holding G _inside_ G.

Less epic description:

Reads the doc string of FORM-GENERATOR-VAR. Removes all occurences of &apos;||| …
|||&apos; and the leading and trailing whitespace that might result. Substitutes
placeholders according to SUBST-FOR.

Placholders work like this: if SUBST-FOR contains an entry [:KW &apos;subst&apos;], all
occurrences of $KW in the doc string are replaced with &apos;subst&apos; (excluding
quotes).</pre></div><div class="src-link"><a href="https://github.com/clj-grenada/lib-grenada/blob/master/src/clj/grenada/guten_tag/more.clj#L21">view source</a></div></div></div></body></html>